<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drag&Drop</title>

    <style type="text/css">
        div.dd{ width:100%; height:100px }
        div#dragarea{ background-color:#80ffff }
        div#droparea{ background-color:#ffff80 }
        div.dd div{ width:100px; height:100px; float:left }
        div#red { background-color:red }
        div#green { background-color:green }
    </style>

</head>
<body>
    <div id="dragarea" class="dd">
      <div id="red" draggable="true"></div>
      <div id="green"></div>
    </div>
    <div id="droparea" class="dd"></div>






<script>
    let obj1 = document.getElementById('red');
    let obj2 = document.getElementById('droparea');
    let dimg = document.getElementById('dragarea');

    obj1.addEventListener('dragstart', function(evt) {
        evt.dataTransfer.setData('text/plain', evt.target.id);
        evt.dataTransfer.setDragImage(dimg, 100, 50); //ドラッグしている時のキャプチャを出す命令
        evt.stopPropagation();
    }, false);

    obj2.addEventListener('drop', function(evt) {
        let id = evt.dataTransfer.getData('text/plain');
        let obj3 = document.getElementById(id);
        if (obj3) {
            obj2.appendChild(obj3);
        }
        evt.preventDefault();
    }, false);

    obj2.addEventListener('dragstart', function(evt) {
        evt.preventDefault();
    }, false);
    obj2.addEventListener('dragover', function(evt) {
        evt.preventDefault();
    }, false);

</script>




</body>
</html>